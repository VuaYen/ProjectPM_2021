<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/user/ulayout}">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <style>
        .error {
            color: red;
        }
    </style>
</head>
<body>
<div layout:fragment="user-main-content">
    <!--h1>Profile</h1-->
    <main class="main">
        <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17"
             style="background-image: url('assets/images/backgrounds/login-bg.jpg')">
            <div class="container">
                <div class="form-box">
                    <div class="form-tab">
                        <ul class="nav nav-pills nav-fill" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="register-tab-2" data-toggle="tab" href="#register-2"
                                   role="tab" aria-controls="register-2" aria-selected="true">Profile</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="register-2" role="tabpanel"
                                 aria-labelledby="register-tab-2">
                                <form method="post" th:action="@{saveProfile}" th:object="${user}">
                                    <input type="hidden" name="id" th:field="*{id}"/>
                                    <input type="hidden" name="roles" th:field="*{roles}"/>
                                    <!--ul th:if="${#fields.hasErrors('*')}">
                                        <li th:each="err : ${#fields.errors('*')}" th:text="${err}" >Input is incorrect</li>
                                    </ul-->
                                    <div class="form-group">
                                        <label for="username">Username *</label>
                                        <input readonly type="text" class="form-control" id="userName"
                                               th:field="*{userName}"
                                               th:value="*{userName}" name="userName">
                                        <!--span th:if="${#fields.hasErrors('username')}" th:errors="*{username}" th:errorclass="error"></span-->
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="first-name" th:text="#{reg.firstName}">First name *</label>
                                        <input type="text" class="form-control" id="first-name" th:field="*{firstName}"
                                               th:value="*{firstName}"
                                               name="firstName" required>
                                        <span th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"
                                              th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="last-name" th:text="#{reg.lastName}">Last name *</label>
                                        <input type="text" class="form-control" id="last-name" th:field="*{lastName}"
                                               th:value="*{lastName}"
                                               name="lastName" required>
                                        <span th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                                              th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="register-email-2" th:text="#{reg.email}">Email address *</label>
                                        <input readonly type="email" class="form-control" id="register-email-2"
                                               th:field="*{email}" th:value="*{email}"
                                               name="email" required>
                                        <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                                              th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="profile-addr-street" th:text="#{reg.addr.street}">Street *</label>
                                        <input type="text" class="form-control" id="profile-addr-street"
                                               th:field="*{address.street}" th:value="*{address.street}"
                                               name="street">
                                        <span th:if="${#fields.hasErrors('address.street')}"
                                              th:errors="*{address.street}" th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="profile-addr-city" th:text="#{reg.addr.city}">City *</label>
                                        <input type="text" class="form-control" id="profile-addr-city"
                                               th:field="*{address.city}" th:value="*{address.city}"
                                               name="city">
                                        <span th:if="${#fields.hasErrors('address.city')}"
                                              th:errors="*{address.city}" th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="profile-addr-state" th:text="#{reg.addr.state}">State *</label>
                                        <input type="text" class="form-control" id="profile-addr-state"
                                               th:field="*{address.state}" th:value="*{address.state}"
                                               name="state">
                                        <span th:if="${#fields.hasErrors('address.state')}"
                                              th:errors="*{address.state}" th:errorclass="error"></span>
                                    </div><!-- End .form-group -->
                                    <div class="form-group">
                                        <label for="profile-addr-zipcode">Zip Code *</label>
                                        <input type="text" class="form-control" id="profile-addr-zipcode"
                                               th:field="*{address.zip}" th:value="*{address.zip}"
                                               name="zip">
                                        <span th:if="${#fields.hasErrors('address.zip')}"
                                              th:errors="*{address.zip}" th:errorclass="error"></span>
                                    </div>

                                    <div class="form-footer">
                                        <button type="submit" class="btn btn-outline-primary-2">
                                            <span>SAVE</span>
                                            <i class="icon-long-arrow-right"></i>
                                        </button>
                                    </div>
                                </form>
                            </div><!-- .End .tab-pane -->
                        </div><!-- End .tab-content -->
                    </div><!-- End .form-tab -->
                </div><!-- End .form-box -->
            </div><!-- End .container -->
        </div><!-- End .login-page section-bg -->
    </main><!-- End .main -->
</div>
</body>
</html>